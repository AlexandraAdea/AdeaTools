{% extends 'base.html' %}

{% block title %}{{ title }} – AdeaDesk{% endblock %}

{% block content %}
<section class="content-card" style="max-width: 800px; margin: 0 auto;">
    <div class="adea-d-flex-between">
        <div>
            <h1>{{ title }}</h1>
            <p class="lead">Mandant: <strong>{{ client.name }}</strong></p>
        </div>
        <a href="{% url 'adeadesk:client-detail' client.pk %}" class="adea-link">← Zurück</a>
    </div>

    <form method="post" enctype="multipart/form-data" style="margin-top: 24px;">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
        <div style="padding: 12px; background: #ffebee; border-radius: 4px; margin-bottom: 16px;">
            {{ form.non_field_errors }}
        </div>
        {% endif %}
        
        {% for field in form %}
        <div style="margin-bottom: 16px;">
            <label for="{{ field.id_for_label }}" style="display: block; margin-bottom: 4px; font-weight: 500;">
                {{ field.label }}
                {% if field.field.required %}<span style="color: #d32f2f;">*</span>{% endif %}
            </label>
            {{ field }}
            {% if field.help_text %}
            <small class="adea-text-muted" style="display: block; margin-top: 4px;">{{ field.help_text }}</small>
            {% endif %}
            {% if field.errors %}
            <div style="color: #d32f2f; font-size: 0.9em; margin-top: 4px;">{{ field.errors }}</div>
            {% endif %}
        </div>
        {% endfor %}
        
        <div style="display: flex; gap: 12px; margin-top: 24px;">
            <button type="submit" class="adea-button-primary">Speichern</button>
            <a href="{% url 'adeadesk:client-detail' client.pk %}" class="adea-link">Abbrechen</a>
        </div>
    </form>
</section>
{% endblock %}




