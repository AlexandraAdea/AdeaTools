{% extends 'base.html' %}

{% block title %}AdeaTools ‚Äì Dashboard{% endblock %}

{% block content %}
<section class="dashboard-intro">
    <h1>AdeaTools</h1>
    <p>Die zentrale Plattform f√ºr unsere digitale Treuhand-Suite.</p>
</section>

{% if user.is_authenticated %}
    <!-- Module f√ºr eingeloggte User (mit Berechtigungspr√ºfung) -->
    <section class="dashboard-grid">
        {% if perms.adeacore.view_client or user.is_staff %}
        <a class="module-card" href="{% url 'adeadesk:client-list' %}">
            <span class="label">Modul</span>
            <span class="title">AdeaDesk</span>
            <p>Mandatsverwaltung, Stammdatenpflege und automatisierter Datenabgleich.</p>
        </a>
        {% endif %}
        
        {% if perms.adeazeit.view_timeentry or user.is_staff %}
        <a class="module-card" href="{% url 'adeazeit:timeentry-day' %}">
            <span class="label">Modul</span>
            <span class="title">AdeaZeit</span>
            <p>Zeiterfassung mit Live-Tracking, Audit-Trail und Abwesenheitsmanagement.</p>
        </a>
        {% endif %}
        
        {% if perms.adealohn.view_payrollrecord or user.is_staff %}
        <a class="module-card" href="{% url 'adealohn:payroll-list' %}">
            <span class="label">Modul</span>
            <span class="title">AdeaLohn</span>
            <p>Vorbereitung und Kontrolle von Lohnabrechnungen mit Qualit√§tscheck.</p>
        </a>
        {% endif %}
    </section>
{% else %}
    <!-- Anmelde-Bereich f√ºr nicht eingeloggte User -->
    <section style="max-width: 480px; margin: 80px auto; text-align: center; padding: 40px; background: #f5f5f7; border-radius: 16px;">
        <h2 style="margin-bottom: 16px; color: #1d1d1f;">Willkommen bei AdeaTools</h2>
        <p style="margin-bottom: 32px; color: #6e6e73;">
            Bitte melden Sie sich an, um auf Ihre Module zuzugreifen.
        </p>
        <a href="{% url 'user-login' %}?next=/" class="adea-button-primary" style="display: inline-block; padding: 12px 32px; text-decoration: none;">
            üîê Anmelden
        </a>
        <p style="margin-top: 24px; font-size: 0.9em; color: #86868b;">
            Entwickelt f√ºr Treuhandb√ºro Ivanova
        </p>
    </section>
{% endif %}
{% endblock %}
